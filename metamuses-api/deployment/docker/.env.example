# ============================================================================
# MetaMuses API - Production Environment Configuration
# Copy this file to .env and fill in the values
# ============================================================================

# ============================================================================
# Worker Configuration (for 16 CPUs)
# ============================================================================
# Default: 8 workers x 2 threads = Maximum concurrency with 0.5B model
# Alternative: 4 workers x 4 threads = Better latency with 1.5B/3B model
# Alternative: 2 workers x 8 threads = Lowest latency with 3B model

# Model Selection
MODEL_FILENAME=qwen2.5-0.5b-instruct-q4_k_m.gguf

# Worker Configuration (8 workers Ã— 2 threads = 16 vCPU)
TOTAL_WORKERS=8
THREADS_PER_WORKER=2
BATCH_SIZE=512
CONTEXT_SIZE=1024
MAX_TOKENS=128

# Memory limits per worker container (0.5B model uses ~0.6GB RAM)
WORKER_MEMORY_LIMIT=1G
WORKER_MEMORY_RESERVATION=768M

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_USER=metamuse
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=metamuses

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_PASSWORD=your_secure_redis_password_here

# ============================================================================
# Model Configuration
# ============================================================================
# Enable/disable model tiers based on your needs
ENABLE_FAST_TIER=true
ENABLE_MEDIUM_TIER=false
ENABLE_HEAVY_TIER=false

# ============================================================================
# Semantic Cache Configuration
# ============================================================================
# Set to true to enable Qdrant vector database for semantic caching
# Requires additional 1-2GB RAM
ENABLE_SEMANTIC_CACHE=false
CACHE_SIMILARITY_THRESHOLD=0.95
CACHE_TTL_HOURS=24

# Qdrant API key (optional, for authentication)
QDRANT_API_KEY=

# ============================================================================
# Blockchain Configuration (for NFT verification)
# ============================================================================
RPC_URL=https://hyperion-testnet.metisdevops.link
PRIVATE_KEY=your_private_key_here
IPFS_JWT_TOKEN=your_ipfs_jwt_token_here

# ============================================================================
# Monitoring Configuration
# ============================================================================
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# ============================================================================
# Logging Configuration
# ============================================================================
# Log levels: error, warn, info, debug, trace
RUST_LOG=info
RUST_BACKTRACE=1
