# ============================================================================
# MetaMuses API - Production Environment Variables
# Copy this to .env and fill in your actual values
# ============================================================================

# ============================================================================
# Server Configuration
# ============================================================================
HOST=0.0.0.0
PORT=8080

# ============================================================================
# PostgreSQL Database Configuration
# ============================================================================
POSTGRES_USER=metamuse
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
POSTGRES_DB=metamuses
DATABASE_URL=postgres://metamuse:CHANGE_ME_TO_SECURE_PASSWORD@postgres:5432/metamuses

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://:YOUR_REDIS_PASSWORD@redis:6379
REDIS_QUEUE_PREFIX=metamuse
REDIS_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# ============================================================================
# Qdrant Vector Database Configuration
# ============================================================================
QDRANT_URL=http://qdrant:6334
QDRANT_API_KEY=

# ============================================================================
# Model Configuration
# ============================================================================
MODELS_DIR=/models

# Enable/disable model tiers
ENABLE_FAST_TIER=true
ENABLE_MEDIUM_TIER=true
ENABLE_HEAVY_TIER=false

# ============================================================================
# Worker Pool Configuration
# ============================================================================
# Adjust based on your server resources

# For 8 vCPU, 16GB RAM (Default - fits most VPS)
FAST_TIER_WORKERS=4
MEDIUM_TIER_WORKERS=2
HEAVY_TIER_WORKERS=0

# For 16 vCPU, 32GB RAM (High performance)
# FAST_TIER_WORKERS=10
# MEDIUM_TIER_WORKERS=5
# HEAVY_TIER_WORKERS=2

# For 4 vCPU, 8GB RAM (Minimal)
# FAST_TIER_WORKERS=2
# MEDIUM_TIER_WORKERS=1
# HEAVY_TIER_WORKERS=0

# ============================================================================
# Semantic Cache Configuration
# ============================================================================
ENABLE_SEMANTIC_CACHE=true
CACHE_SIMILARITY_THRESHOLD=0.95
CACHE_TTL_HOURS=24

# ============================================================================
# Worker Configuration
# ============================================================================
WORKER_POLL_INTERVAL_MS=100
MAX_TOKENS=256
TEMPERATURE=0.7

# ============================================================================
# Blockchain Configuration
# ============================================================================
# Metis Hyperion Testnet
RPC_URL=https://hyperion-testnet.metisdevops.link
PRIVATE_KEY=YOUR_PRIVATE_KEY_HERE
IPFS_JWT_TOKEN=YOUR_IPFS_JWT_TOKEN_HERE

# ============================================================================
# Optional: OpenAI API (for fallback or comparison)
# ============================================================================
OPENAI_API_KEY=

# ============================================================================
# Logging Configuration
# ============================================================================
RUST_LOG=info
RUST_BACKTRACE=1

# ============================================================================
# Monitoring Configuration
# ============================================================================
# Grafana admin password
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# ============================================================================
# Security Notes
# ============================================================================
# 1. NEVER commit this file with real values to git
# 2. Set file permissions: chmod 600 .env
# 3. Generate strong passwords (32+ characters)
# 4. Rotate credentials regularly
# 5. Use environment-specific values (don't reuse prod keys in dev)

# ============================================================================
# Password Generation Examples
# ============================================================================
# Generate secure random password:
# openssl rand -base64 32

# Generate hex string:
# openssl rand -hex 32
